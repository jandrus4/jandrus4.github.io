{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Jacob Andrus Datasheet as part of  VibeWater for  Team 210  <p>Submission: October 29, 2025 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>Team 210 of the Fall 2025 EGR 304 class has worked for months to design and prototype a new, high-quality, inexpensive water quality analyzer. As a member of Team 210, Jacob was tasked with designing a subsystem of the device to measure the pH of any body of water the consumer might encounter. This individual datasheet will walk you through how he designed and built the pH subsystem.</p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>WaterVibe has decided to design and construct a low-cost and efficient water quality analyzer and after recognizing pH, opacity and conductivity as some of the most important qualities, every team member was tasked with designing 1 of 4 subsystems for the device.</p> <p>As the one tasked with designing and building the pH sensor, Jacob did extensive research, drew circuits in KiCad and tested several electronic components to make an efficient subsystem.</p> <p>To review the details listed of the material used to construct the subsection, which is still being put together, you can review it in the \"BOM\" section of the datasheet.</p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<ul> <li>Project Monitor: Responsible for keeping the team on track with all of its work</li> <li>Electrical expert: Due to his 6 years in the US Navy as an Electrician's Mate, Nuclear, Jacob was responsible for ensuring all team members' circuits were designed with safety being the #1 priority</li> <li>pH Subsystem: Created the design for the pH sensor from scratch</li> </ul> <p>The overall team report can be found here.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/","title":"pH Sensor Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>The selected pH probe will allow hydrogen ions in the water to diffuse into the probe so the activity may be measured. A small voltage anywhere from -0.5 volts to +0.5 volts will be generated. This range corresponds to the pH of the water, where the more acidic pH will generate a larger negative voltage and the more basic pH will generate a larger positive voltage.</p> <p>The signal is amplified by the operational amplifier which has an ideal gain equal to 4. The microcontroller take this analog signal, convert it to digital and then make a decision as to whether the pH is safe or not. After making the decision, either the green or red LED will light up to indicate \"SAFE\" or 'DANGER\", respectively. The decision and pH value will also be sent to the control board where they will be displayed on the device's screen.</p> <p>There is also a debugging button which allows the PCB to enter and exit \"Testing Mode\", as well as 2 yellow LEDs for debugging indications.</p> <p>If there are any power issues, the header pins also provide power connections to either supply or receive 5 volts and a ground connection for the other PCBs.</p>","tags":["tag1","tag2"]},{"location":"01-Block-Diagram/Block-Diagram/#block-diagram","title":"Block Diagram","text":"<p>Figure 1 displays the pH Sensor Block Diagram. It can also be downloaded as a PDF here.</p> <p> Figure 1: pH Sensor Block Diagram</p>","tags":["tag1","tag2"]},{"location":"02-Component-Selection/Component-Selection/","title":"Major Component Selections","text":"<p>Voltage Regulator</p> <ol> <li> <p>L7805CV IC REG LINEAR 5V 1.5A TO220</p> <p></p> <ul> <li>$0.50/each</li> <li>link to product</li> </ul> Pros Cons Inexpensive component Limited to 1.5 Ampere output Large operating temperature range Heats up quickly Meets through hole mount constraint of project </li> <li> <p>LT323AT#PBF IC REG LINEAR 5V 3A TO220-3</p> <p></p> <ul> <li>$8.94/each</li> <li>Link to product</li> </ul> Pros Cons Large output current Very expensive Large operating temperature range Slow shipping speed 100% Burn-in Thermal Limit <ol> <li>LM1084IT-5.0/NOPB IC REG LINEAR 5V 5A TO220-3</li> </ol> <p></p> <ul> <li>$2.83/each</li> <li>Link to product</li> </ul> Pros Cons Massive output current Slightly expensive Low dropout voltage Poor load regulation in cold temperatures Current limiting and thermal protection </li> </ol> <p>Choice: Option 3: LM1084IT-5.0/NOPB IC REG LINEAR 5V 5A TO220-3</p> <p>Rationale: The TI voltage regulator is more expensive, but has an output of 5 Amperes, ensuring the all components will have sufficient power. It's also cheaper than the LT323AT#PBF from Analog Devices Inc., despite having a larger current output.</p> <p>Operational Amplifier</p> <ol> <li> <p>MCP6004-I/P IC OPAMP GP 4 CIRCUIT 14DIP</p> <p></p> <ul> <li>$0.59/each</li> <li>link to product</li> </ul> Pros Cons Inexpensive component Pins are hard to reposition Multiple circuits available for use Takes up large space on PCB Small voltage swing </li> <li> <p>MCP6004-E/P IC OPAMP GP 4 CIRCUIT 14DIP</p> <p></p> <ul> <li>$0.65/each</li> <li>Link to product</li> </ul> Pros Cons Larger operating temperature range Pins are hard to reposition Also inexpensive, but not as much as MCP6004-I/P Takes up large space on PCB Meets through hole mount constraints for project <ol> <li>MCP601-I/P IC OPAMP GP 1 CIRCUIT 8DIP</li> </ol> <p></p> <ul> <li>$0.62/each</li> <li>Link to product</li> </ul> Pros Cons Smaller IC Only 1 circuit available Larger gain bandwidth Large noise voltage density below 20 Hz Slightly cheaper than MCP6004-E/P </li> </ol> <p>Choice: Option 3: MCP601-I/P</p> <p>Rationale: The smaller volume and larger gain bandwidth make the MCP601-I/P much more suitable. The device doesn't need more than 1 operational amplifier and since all 3 choices are roughly the same price, the choice became clear.</p> <p>pH Probe</p> <ol> <li> <p>ENV-30-PH CONSUMER GRADE PH PROBE</p> <p></p> <ul> <li>$49.99/each</li> <li>link to product</li> </ul> Pros Cons Inexpensive component Additional $15 shipping fee Short shipping time Range of 2-13 Accurate to + or - 0.1 pH Can never be dry </li> <li> <p>ENV-45-PH SPEAR TIP PH PROBE</p> <p></p> <ul> <li>$169.99/each</li> <li>Link to product</li> </ul> Pros Cons Reads from 0-14 pH Extremely expensive Life expectancy of 2.5+ years Most likely will require monthly recalibration Max pressure of 100 psi <ol> <li>ENV-40-PH LAB GRADE PH PROBE</li> </ol> <p></p> <ul> <li>$84.99/each</li> <li>Link to product</li> </ul> Pros Cons Accurate to + or - 0.002 pH Very expensive Much stronger output current Most likely will require monthly recalibration Hydrogen amplification leads to less noise and more stable readings </li> </ol> <p>Choice: Option 1: ENV-30-PH</p> <p>Rationale: Since this device will primarily be used to tell consumers if their water is safe to drink or not, they will not need super accurate pH readings. While the ENV-40-PH and ENV-45-PH are clearly higher quality, their higher costs make the ENV-30-PH the clear choice.</p> <p>Coaxial Connector</p> <ol> <li> <p>RF2-04A-T-00-50-G CONN SMA JACK STR 50 OHM PCB</p> <p></p> <ul> <li>$1.70/each</li> <li>link to product</li> </ul> Pros Cons Inexpensive component Long shipping time Meets through hole mount project constraint Lower max frequency </li> <li> <p>RFPC-SMA28-F SMA VERTICAL PCB JACK</p> <p></p> <ul> <li>$1.73/each</li> <li>Link to product</li> </ul> Pros Cons Inexpensive component Lower max frequency Meets through hole mount project constraint 50 ohm impedance Shorter shipping time <ol> <li>SMA-J-P-H-ST-TH1 CONN SMA JACK STR 50 OHM PCB</li> </ol> <p></p> <ul> <li>$2.67/each</li> <li>Link to product</li> </ul> Pros Cons Higher max frequency Slightly more expensive Larger operating temperature range Fewer threads to fasten to Shortest shipping time </li> </ol> <p>Choice: Option 3: SMA-J-P-H-ST-TH1</p> <p>Rationale: Coaxial connectors aren't very different from each other and while the device probably won't come close to 20 GHz, it's nice to have better electrical ratings. This connector is slightly more expensive, but by less than a dollar compared to the other connectors. It will also arrive the fastest compared to the others.</p>"},{"location":"03-BOM/BOM/","title":"Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#overview","title":"Overview","text":"<p>The following table is a list of the materials used in this subsystem and the total cost. The first 4 parts listed are major components that will need to be ordered using the ASU business order process. The rest are components already on hand, or in abundance within PRLTA 109.</p>","tags":["tag1","tag2"]},{"location":"03-BOM/BOM/#bill-of-materials","title":"Bill of Materials","text":"<p>Table 1: pH Sensor Bill of Materials</p> Part Name/Description Qty Unit Cost Total Cost Manufacture Manufacturer # Vendor Link Datasheet Link Schematic Reference Designators CONSUMER GRADE PH PROBE 1 $49.99 $49.99 Atlas Scientific ENV-30-PH DigiKey Probe datasheet link U2 IC REG LINEAR 5V 5A TO220-3 1 $2.83 $2.83 Texas Instruments LM1084IT-5.0/NOPB DigiKey Voltage regulator datasheet link U3 IC OPAMP GP 1 CIRCUIT 8DIP 1 $0.62 $0.62 Microchip Technology MCP601-I/P DigiKey Op-amp datasheet link U4 CONN SMA JACK STR 50 OHM PCB 1 $2.67 $2.67 Samtec Inc. SMA-J-P-H-ST-TH1 DigiKey Coaxial connector datasheet link Not on schematic PIC18F57Q10 Curiosity Nano Board 1 n/a n/a n/a n/a Microchip Microcontroller datasheet link U1 0.1 \u00b5F Ceramic Capacitor, 50V 6 n/a n/a n/a n/a PRLTA 109 n/a C1, C2 Debug LED (yellow) 8 n/a n/a n/a n/a PRLTA 109 n/a D3, D4, D5, D6 SAFE and DANGER LEDs (green and red) 3 n/a n/a n/a n/a PRLTA 109 n/a D1, D2 3.5 Amp fuse, 5 V 4 n/a n/a n/a n/a PRLTA 109 n/a F1 Test Point 24 n/a n/a n/a n/a PRLTA 109 n/a T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, T11, T12 Pushbutton (Debug switch) 3 n/a n/a n/a n/a PRLTA 109 n/a SW1 10K ohm resistor, 0.25W 2 n/a n/a n/a n/a PRLTA 109 n/a R1 220 ohm resistor 4 n/a n/a n/a n/a PRLTA 109 n/a R2, R4 5K ohm resistor 4 n/a n/a n/a n/a PRLTA 109 n/a R5, R6 15K ohm resistor 2 n/a n/a n/a n/a PRLTA 109 n/a R7","tags":["tag1","tag2"]},{"location":"04-Schematic/schematic/","title":"pH Sensor Schematic","text":""},{"location":"04-Schematic/schematic/#overview","title":"Overview","text":"<p>The schematic shown in Figure 1 is designed to support Team 210 and our water quality device.</p> <p> Figure 1: pH Sensor Subsystem</p>"},{"location":"04-Schematic/schematic/#resouces","title":"Resouces","text":"<p>The schematic as a PDF download is available here, and the Zip folder of the schematic built in KiCad here.</p>"},{"location":"05-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"05-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>The only components that need a power supply are the microcontroller and operational amplifier. The voltage regulator will take the 9 volts from the battery and regulate it to 5 volts. All other electronic signals will be processed by the microcontroller and used to indicate safe or dangerous pH levels of water.</p> <p></p> <p></p> <p></p>"},{"location":"05-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>The power budget shows significant available power, due to the fact that not many components require some kind of external power source. VibeWater intends to use this subsystem's power supply as a backup in the event their power systems fail.</p>"},{"location":"05-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as a PDF download is available here and as an Excel file here.</p>"},{"location":"06-PCB-Design/PCB-Design/","title":"PCB design","text":""},{"location":"06-PCB-Design/PCB-Design/#overview","title":"Overview","text":"<p>This is a manufacturable PCB for Peralta Labs to create the pH sensor board.</p> <p> PCB front  PCB rear</p>"},{"location":"06-PCB-Design/PCB-Design/#resouces","title":"Resouces","text":"<p>The KiCAD project folder is available here. The gerber files for the PCB are available here. PCB image files are available as PNGs here.</p>"},{"location":"07-Microcontroller-Code/Microcontroller-Code/","title":"Microcontroller Code","text":""},{"location":"07-Microcontroller-Code/Microcontroller-Code/#overview","title":"Overview","text":"<p>This is the microcontroller code for the pH sensor subsystem.</p>"},{"location":"07-Microcontroller-Code/Microcontroller-Code/#resources","title":"Resources","text":"<p>The MPLAB IDE project is available here.</p>"},{"location":"Appendix/","title":"Appendix - Main Page","text":"<p>The Appendix is where supporting information goes that is not in the main body.</p>"},{"location":"Appendix/another-subfile/","title":"Appendix - Another Subfile","text":"<p>Things to discuss</p>"},{"location":"Appendix/basic-markdown-examples/","title":"Appendix - Basic Markdown Examples","text":""},{"location":"Appendix/basic-markdown-examples/#introduction","title":"Introduction","text":"<p>Bold Text Italic Text Bold and Italic Text</p>"},{"location":"Appendix/basic-markdown-examples/#research-question","title":"Research Question","text":"<ul> <li>Bullet Point 1</li> <li>Bullet Point 2</li> <li>Bullet Point 3</li> </ul>"},{"location":"Appendix/basic-markdown-examples/#images","title":"Images","text":"<p> Figure 2: Early PCB working design</p> <p> Figure 3: Innovation Showcase Spring '25, where the products were a STEM-themed display that demonstrates a single scientific/engineering concept with the intended user of K-12 students interested in learning about science, technology, engineering, or math.</p>"},{"location":"Appendix/basic-markdown-examples/#results","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#results_1","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/basic-markdown-examples/#conclusions-and-future-work_1","title":"Conclusions and Future Work","text":""},{"location":"Appendix/basic-markdown-examples/#external-links_1","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/basic-markdown-examples/#references","title":"References","text":""},{"location":"Appendix/charts/","title":"Appendix - Charts Example","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> <pre><code>sequenceDiagram\n  autonumber\n  Alice-&gt;&gt;John: Hello John, how are you?\n  loop Healthcheck\n      John-&gt;&gt;John: Fight against hypochondria\n  end\n  Note right of John: Rational thoughts!\n  John--&gt;&gt;Alice: Great!\n  John-&gt;&gt;Bob: How about you?\n  Bob--&gt;&gt;John: Jolly good!</code></pre> <pre><code>stateDiagram-v2\n  state fork_state &lt;&lt;fork&gt;&gt;\n    [*] --&gt; fork_state\n    fork_state --&gt; State2\n    fork_state --&gt; State3\n\n    state join_state &lt;&lt;join&gt;&gt;\n    State2 --&gt; join_state\n    State3 --&gt; join_state\n    join_state --&gt; State4\n    State4 --&gt; [*]</code></pre>"},{"location":"Appendix/esp-32-table/","title":"Appendix - Example Controller Table for the ESP32","text":"ESP Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Found on Espressif.com ESP32-S3-WROOM-1-N4 Datasheet URL ? Do not paste links directly into the table.  Use a link ESP32 S3 Datasheet URL ? Has more detail on functions ESP32 S3 Technical Reference Manual URL ? Has details on I/O multiplexing, USB, and others Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find on Digikey, Jameco, MPJA, or octopart Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? as found in datasheet Module # Available Needed Associated Pins (or * for any) UART ? ? ? external SPI* ? ? ? I2C ? ? ? GPIO ? ? ? ADC ? ? ? LED PWM ? ? ? Motor PWM ? ? ? USB Programmer ? 1 ? ... <p>* The ESP32-S2 has multiple SPI interfaces, but some are for internal use</p>"}]}